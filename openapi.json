{"openapi":"3.1.0","info":{"title":"Nexus Quantum I2A2","version":"0.1.0"},"paths":{"/api/v1/health/live":{"get":{"tags":["health"],"summary":"Liveness probe","description":"Quick liveness probe used by load balancers.","operationId":"liveness_probe_api_v1_health_live_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Liveness Probe Api V1 Health Live Get"}}}}}}},"/api/v1/health/ready":{"get":{"tags":["health"],"summary":"Readiness probe","description":"Validate that critical dependencies are ready to serve traffic.","operationId":"readiness_probe_api_v1_health_ready_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Readiness Probe Api V1 Health Ready Get"}}}}}}},"/api/v1/ai/generate":{"post":{"tags":["ai"],"summary":"Generate","operationId":"generate_api_v1_ai_generate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Generate Api V1 Ai Generate Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audits":{"post":{"tags":["audits"],"summary":"Create a new fiscal audit","description":"Upload files and enqueue the audit pipeline.","operationId":"create_audit_job_api_v1_audits_post","parameters":[{"name":"Idempotency-Key","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Idempotency-Key"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_audit_job_api_v1_audits_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["audits"],"summary":"List audit jobs","operationId":"list_audits_api_v1_audits_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditJobListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audits/{job_id}":{"get":{"tags":["audits"],"summary":"Retrieve an audit job by id","operationId":"retrieve_audit_job_api_v1_audits__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuditJobResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/audits/{job_id}/events":{"get":{"tags":["audits"],"summary":"Stream audit job updates (SSE)","operationId":"stream_audit_job_api_v1_audits__job_id__events_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AuditJobListResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/AuditJobResponse"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"limit":{"type":"integer","title":"Limit"},"offset":{"type":"integer","title":"Offset"}},"type":"object","required":["items","total","limit","offset"],"title":"AuditJobListResponse","description":"Paginated list of audit jobs."},"AuditJobResponse":{"properties":{"id":{"type":"string","format":"uuid","title":"Id"},"status":{"$ref":"#/components/schemas/AuditJobStatus"},"idempotency_key":{"type":"string","maxLength":128,"minLength":1,"title":"Idempotency Key"},"input_summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Input Summary"},"storage_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Storage Path"},"input_payload":{"anyOf":[{"items":{"type":"object"},"type":"array"},{"type":"null"}],"title":"Input Payload"},"result_payload":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Result Payload"},"error_payload":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Error Payload"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","status","idempotency_key","created_at","updated_at"],"title":"AuditJobResponse","description":"API representation of an audit job."},"AuditJobStatus":{"type":"string","enum":["PENDING","RUNNING","COMPLETED","FAILED","CANCELLED"],"title":"AuditJobStatus","description":"Allowed states for audit jobs."},"Body_create_audit_job_api_v1_audits_post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files","description":"Upload files to be audited."}},"type":"object","required":["files"],"title":"Body_create_audit_job_api_v1_audits_post"},"GenerateRequest":{"properties":{"prompt":{"type":"string","title":"Prompt"},"model":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model","default":"gemini-1.5-flash"},"temperature":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Temperature","default":0.4}},"type":"object","required":["prompt"],"title":"GenerateRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
